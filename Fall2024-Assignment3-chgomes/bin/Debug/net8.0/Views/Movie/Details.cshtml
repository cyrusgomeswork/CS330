@model Fall2024_Assignment3_chgomes.Models.MovieDetailsView

@{
   ViewData["Title"] = "Details";
}

<h1 class="text-primary">Details</h1>

<div class="card">
   <div class="card-header bg-info text-white">
       <h4>Movie</h4>
   </div>
   <div class="card-body">
       <dl class="row">
           <dt class="col-sm-2 font-weight-bold">
               @Html.DisplayNameFor(model => model.Movie.Title)
           </dt>
           <dd class="col-sm-10">
               @Html.DisplayFor(model => model.Movie.Title)
           </dd>
           <dt class="col-sm-2 font-weight-bold">
               @Html.DisplayNameFor(model => model.Movie.Imdb)
           </dt>
           <dd class="col-sm-10">
               @Html.DisplayFor(model => model.Movie.Imdb)
           </dd>
           <dt class="col-sm-2 font-weight-bold">
               @Html.DisplayNameFor(model => model.Movie.Genre)
           </dt>
           <dd class="col-sm-10">
               @Html.DisplayFor(model => model.Movie.Genre)
           </dd>
           <dt class="col-sm-2 font-weight-bold">
               @Html.DisplayNameFor(model => model.Movie.Year)
           </dt>
           <dd class="col-sm-10">
               @Html.DisplayFor(model => model.Movie.Year)
           </dd>
           <dt class="col-sm-2 font-weight-bold">
               @Html.DisplayNameFor(model => model.Movie.Poster)
           </dt>
           <dd class="col-sm-10">
               @if (Model.Movie.Poster != null)
               {
                   <img src="data:image/jpeg;base64,@Convert.ToBase64String(Model.Movie.Poster)" alt="Movie Photo" class="img-thumbnail" style="max-width: 200px;" />
               }
               else
               {
                   <span>No poster available</span>
               }
           </dd>
       </dl>
   </div>
</div>

<div class="mt-4">
   <h4 class="text-success">Average Sentiment: @Model.AverageSentiment</h4>

   <table class="table table-striped table-bordered">
       <thead class="thead-dark">
           <tr>
               <th>Review</th>
               <th>Sentiment Score</th>
           </tr>
       </thead>
       <tbody>
           @foreach (var review in Model.ReviewsWithSentiment)
           {
               <tr>
                   <td>@review.Review</td>
                   <td>@review.Sentiment</td>
               </tr>
           }
       </tbody>
   </table>
</div>

<h3 class="text-secondary">Actors:</h3>
<ul class="list-group">
   @foreach (var actor in Model.Actors)
   {
       <li class="list-group-item">@actor.Name</li>
   }
</ul>

<div class="mt-4">  
  <a asp-action="Edit" asp-route-id="@Model?.Movie.Id" class="btn btn-warning">Edit</a>  
  <a asp-action="Index" class="btn btn-secondary">Back to List</a>  
</div>
